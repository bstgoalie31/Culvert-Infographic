<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Culvert Inspection Data Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!--
    Palette Selection: "Brilliant Blues" (#004AAD, #009FFD, #2A2A72, #424242, #FFFFFF).
    
    Narrative Plan:
    1.  Introduction: Hook with the main goal (336 culverts).
    2.  The Scope (Bar Chart): Visualize the core dataset - culvert distribution by road.
    3.  Project Status (Donut Chart): Show progress (currently 0/336).
    4.  The Inspection Process (HTML Flowchart): Visualize the "How-To" for numbering logic.
    5.  Data Collection (HTML Flowchart): Show the 4-step data submission process.
    6.  Grading System (HTML Cards): Visualize the 4 categories of data being collected.

    Visualization Justifications:
    -   Total Culverts: Goal: Inform. Viz: "Big Number". Justification: High-impact KPI. (HTML/CSS).
    -   Culvert Counts by Road: Goal: Compare. Viz: Horizontal Bar Chart. Justification: Best for comparing quantities across many categories (23 roads) with long labels. (Chart.js, Canvas).
    -   Project Status: Goal: Inform. Viz: Donut Chart. Justification: Clear part-to-whole visual for progress. (Chart.js, Canvas).
    -   Numbering Logic: Goal: Organize (Process). Viz: HTML/CSS Flowchart. Justification: Shows branching logic without SVG/Mermaid. (HTML/CSS).
    -   Data Collection Process: Goal: Organize (Process). Viz: HTML/CSS Flowchart. Justification: Simple linear process. (HTML/CSS).
    -   Grading System: Goal: Organize (Categories). Viz: HTML/CSS Cards. Justification: Clearly segments and explains the 4 data categories with color-coding. (HTML/CSS).

    Confirmation: NEITHER Mermaid JS NOR SVG were used in this file.
    -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 1000px;
            height: 800px;
            max-height: 1000px;
            margin-left: auto;
            margin-right: auto;
        }
        .donut-container {
            position: relative;
            width: 100%;
            max-width: 300px;
            height: 300px;
            max-height: 300px;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>
<body class="text-[#424242]">

    <div class="max-w-7xl mx-auto p-4 md:p-8">

        <header class="mb-8">
            <h1 class="text-4xl md:text-5xl font-extrabold text-[#004AAD]">Ridge Culvert Inspection</h1>
            <p class="text-2xl text-[#009FFD] font-light">A Data-Driven Community Project</p>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">

            <div class="lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-3xl font-bold text-[#004AAD] mb-3">The Mission: An Overview</h2>
                <p class="text-lg text-gray-700">This project mobilizes community volunteers to protect our infrastructure. The primary goal is to perform a detailed visual inspection of every culvert on the ridge, collecting structured data to assess current conditions and prioritize critical repairs. This infographic visualizes the scope of the project and the data we are collecting.</p>
            </div>
            
            <div class="lg:col-span-1 bg-white rounded-lg shadow-md p-6 flex flex-col justify-center items-center text-center">
                <h3 class="text-2xl font-bold text-gray-700 mb-2">Total Project Scope</h3>
                <div class="text-8xl font-extrabold text-[#004AAD] my-4">336</div>
                <p class="text-2xl font-light text-gray-700">Culverts to be Inspected</p>
            </div>
            
            <div class="lg:col-span-1 bg-white rounded-lg shadow-md p-6 flex flex-col justify-center items-center">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 text-center">Current Project Status</h3>
                <div class="donut-container">
                    <canvas id="statusDonutChart"></canvas>
                </div>
                <p class="text-center text-gray-600 mt-4">This chart will update as data is submitted, tracking our progress toward 100% inspection.</p>
            </div>
            
            <div class="lg:col-span-1 bg-white rounded-lg shadow-md p-6">
                <h3 class="text-2xl font-bold text-gray-700 mb-4">What We're Collecting</h3>
                <p class="text-gray-600 mb-4">The core of the project is a simple visual grading system. Volunteers assign one of four conditions to each culvert:</p>
                <div class="space-y-3">
                    <div class="border-l-4 border-green-500 bg-green-50 p-3 rounded-r-lg">
                        <h4 class="font-bold text-green-800">No Visible Wear</h4>
                        <p class="text-sm text-green-700">Pipe is intact and structurally sound.</p>
                    </div>
                    <div class="border-l-4 border-yellow-500 bg-yellow-50 p-3 rounded-r-lg">
                        <h4 class="font-bold text-yellow-800">Visible Wear</h4>
                        <p class="text-sm text-yellow-700">Minor rust or small holes (&lt; 6").</p>
                    </div>
                    <div class="border-l-4 border-red-500 bg-red-50 p-3 rounded-r-lg">
                        <h4 class="font-bold text-red-800">Significant Wear</h4>
                        <p class="text-sm text-red-700">Large holes (&gt; 6") or caved-in sections.</p>
                    </div>
                    <div class="border-l-4 border-gray-500 bg-gray-50 p-3 rounded-r-lg">
                        <h4 class="font-bold text-gray-800">Too Obstructed</h4>
                        <p class="text-sm text-gray-700">Blocked by debris, cannot be assessed.</p>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-3xl font-bold text-[#004AAD] mb-3">The Scope: Culvert Distribution by Road</h2>
                <p class="text-lg text-gray-700 mb-6">The 336 culverts are not evenly distributed. This chart shows the workload for each road, highlighting high-priority areas like 'Graces Cabin Road Extension' and 'Bluffs Road'. This data helps coordinators assign volunteer teams effectively.</p>
                <div class="chart-container">
                    <canvas id="culvertBarChart"></canvas>
                </div>
            </div>

            <div class="lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-3xl font-bold text-[#004AAD] mb-3">The Process: How to Number Culverts</h2>
                <p class="text-lg text-gray-700 mb-6">To ensure data accuracy, every culvert needs a unique ID. Volunteers follow a specific set of rules based on their starting point. This flowchart visualizes the identification logic.</p>
                <div class="border border-gray-200 rounded-lg p-6">
                    <div class="text-center mb-6">
                        <h4 class="text-xl font-semibold">Start Point: Graces Cabin Rd & Bluffs Rd Intersection Gate 3</h4>
                        <div class="text-5xl text-gray-400">&darr;</div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="border-4 border-dashed border-[#009FFD] p-4 rounded-lg text-center">
                            <h5 class="text-lg font-bold text-[#004AAD]">Branch 1: Head WEST</h5>
                            <p class="text-gray-600 mt-2">Number sequentially along:</p>
                            <p class="font-semibold text-xl mt-1">Graces Cabin Rd Extension</p>
                        </div>
                        <div class="border-4 border-dashed border-[#2A2A72] p-4 rounded-lg text-center">
                            <h5 class="text-lg font-bold text-[#004AAD]">Branch 2: Head EAST</h5>
                            <p class="text-gray-600 mt-2">Number sequentially along:</p>
                            <p class="font-semibold text-xl mt-1">Bluffs Road</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                        <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
                            <h5 class="text-lg font-bold text-gray-700">Rule 3: Connecting Roads</h5>
                            <p class="text-gray-600 mt-2">For all other cul-de-sacs, start with <span class="font-mono bg-gray-200 px-1 rounded">1</span> at the connection point to the primary road. Ex. Silver Fox Lane - 1 is closest to the primary connection.</p>
                        </div>
                        <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
                            <h5 class="text-lg font-bold text-gray-700">Rule 4: Main Entry Roads</h5>
                            <p class="text-gray-600 mt-2">For roads like <span class="font-medium">Mill Run</span>, start at the main entry point. The largest number will be at the cul-de-sac.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-3xl font-bold text-[#004AAD] mb-3">The Workflow: Data Collection</h2>
                <p class="text-lg text-gray-700 mb-6">All data is submitted via a Google Form. The process is a simple, 4-step workflow for each culvert inspected.</p>
                <div class="flex flex-col md:flex-row justify-around items-center space-y-4 md:space-y-0 md:space-x-4">
                    
                    <div class="flex-1 text-center p-4 bg-gray-50 rounded-lg shadow-sm">
                        <div class="text-4xl font-extrabold text-[#009FFD] mb-2">1</div>
                        <h4 class="text-lg font-semibold">Assign ID</h4>
                        <p class="text-gray-600 text-sm">Use the numbering system (e.g., "Bluffs Road - 15")</p>
                    </div>
                    
                    <div class="text-3xl text-gray-300 font-light hidden md:block">&rarr;</div>
                    <div class="text-3xl text-gray-300 font-light md:hidden">&darr;</div>

                    <div class="flex-1 text-center p-4 bg-gray-50 rounded-lg shadow-sm">
                        <div class="text-4xl font-extrabold text-[#009FFD] mb-2">2</div>
                        <h4 class="text-lg font-semibold">Take Photo</h4>
                        <p class="text-gray-600 text-sm">Capture condition, damage, or obstruction.</p>
                    </div>

                    <div class="text-3xl text-gray-300 font-light hidden md:block">&rarr;</div>
                    <div class="text-3xl text-gray-300 font-light md:hidden">&darr;</div>

                    <div class="flex-1 text-center p-4 bg-gray-50 rounded-lg shadow-sm">
                        <div class="text-4xl font-extrabold text-[#009FFD] mb-2">3</div>
                        <h4 class="text-lg font-semibold">Get GPS</h4>
                        <p class="text-gray-600 text-sm">Use Phylox (or similar) for Lat/Long coordinates.</p>
                    </div>

                    <div class="text-3xl text-gray-300 font-light hidden md:block">&rarr;</div>
                    <div class="text-3xl text-gray-300 font-light md:hidden">&darr;</div>

                    <div class="flex-1 text-center p-4 bg-green-50 border border-green-200 rounded-lg shadow-sm">
                        <div class="text-4xl font-extrabold text-green-600 mb-2">4</div>
                        <h4 class="text-lg font-semibold">Submit Form</h4>
                        <p class="text-gray-600 text-sm">Upload all data via the Google Form.</p>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        window.onload = function() {
            
            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                } else {
                    return label;
                }
            };

            const wrapLabel = (label) => {
                if (label.length > 16) {
                    const words = label.split(' ');
                    const lines = [];
                    let currentLine = '';
                    for (const word of words) {
                        if ((currentLine + ' ' + word).trim().length > 16 && currentLine.length > 0) {
                            lines.push(currentLine);
                            currentLine = word;
                        } else {
                            currentLine = (currentLine + ' ' + word).trim();
                        }
                    }
                    lines.push(currentLine);
                    return lines;
                }
                return label;
            };

            const culvertData = [
                { label: 'Graces Cabin Road Extension', value: 43 },
                { label: 'Bluffs Road', value: 42 },
                { label: 'Bluffs Blue Beach View', value: 34 },
                { label: 'Dumpling Ridge Road', value: 32 },
                { label: 'Bluffs Trail Drive', value: 24 },
                { label: 'Doman Ridge Road', value: 21 },
                { label: 'Mill Run Road', value: 20 },
                { label: 'RM Washington Drive', value: 19 },
                { label: 'Bluffs Lookout Road', value: 16 },
                { label: 'Bluffs View Drive', value: 12 },
                { label: 'Bluffs Spring Hollow Road', value: 11 },
                { label: 'Bluffs Bluebird Tr', value: 11 },
                { label: 'Bluffs Creek View', value: 10 },
                { label: 'Bluffs Ridge Road', value: 9 },
                { label: 'Bluffs Mill Ridge Rd', value: 7 },
                { label: 'Bluffs Potomac Ridge Road', value: 5 },
                { label: 'Silver Fox Lane', value: 4 },
                { label: 'Majestic View Lane', value: 3 },
                { label: 'West End Drive', value: 3 },
                { label: 'Bluffs Middle Road', value: 3 },
                { label: 'Isaac Blue Lane', value: 3 },
                { label: 'Harmison Bluff Pt.', value: 2 },
                { label: 'Bluffs Berry Lane', value: 2 }
            ];

            culvertData.sort((a, b) => a.value - b.value);

            const chartLabels = culvertData.map(d => wrapLabel(d.label));
            const chartData = culvertData.map(d => d.value);

            var ctxBar = document.getElementById('culvertBarChart').getContext('2d');
            new Chart(ctxBar, {
                type: 'bar',
                data: {
                    labels: chartLabels,
                    datasets: [{
                        label: 'Number of Culverts',
                        data: chartData,
                        backgroundColor: '#009FFD',
                        borderColor: '#004AAD',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            ticks: {
                                color: '#424242'
                            },
                            grid: {
                                color: '#e0e0e0'
                            }
                        },
                        y: {
                            ticks: {
                                color: '#424242',
                                font: {
                                    size: 11
                                }
                            },
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback
                            }
                        }
                    }
                }
            });

            var ctxDonut = document.getElementById('statusDonutChart').getContext('2d');
            new Chart(ctxDonut, {
                type: 'doughnut',
                data: {
                    labels: ['Inspected', 'Remaining'],
                    datasets: [{
                        label: 'Project Status',
                        data: [0, 336],
                        backgroundColor: [
                            '#009FFD',
                            '#E0E0E0'
                        ],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#424242'
                            }
                        },
                        tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback
                            }
                        }
                    }
                }
            });
        };
    </script>
</body>
</html>




